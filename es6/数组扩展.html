<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>数组的扩展</title>
</head>

<body>
    <div id="nodes">kfd</div>
    <div id="stop">stopdafa</div>
    <script type="text/javascript">
    //将一个数组转为用逗号分隔的参数序列。

    //正确识别32位 Unicode字符。
    'x\uD83D\uDE80y'.length // 4
    [...'x\uD83D\uDE80y'].length // 3
    function length(str) {
      return [...str].length;
    }
    //2.函数调用。
    var a = [1,2,3];
    function add( x, y ){
       return x+y;
    }
    add( ...a );

    

    //4.扩展运算符后面可以跟 表达式
    var b =3;
    var c = [
      ...(b > 0 ? [1,2,3] : [])
    ]

    //应用：apply，
    // 1）合并数组

    var a = 1, b=[1,2,3],c = [a,...b];
    // （2）与解构赋值结合
    var [a, ...b] = [1,2,3,4,5];
    // （4）字符串 ,扩展运算符还可以将字符串转为真正的数组。

    var b = [...'abcdefg'];
    // （5）实现了 Iterator 接口的对象，可以将类数组对象转为数组。
    [...nodeList]
    // （6）Map 和 Set 结构，Generator 函数

    //     扩展运算符内部调用的是数据结构的 Iterator 接口，因此只要具有 Iterator 接口的对象，都可以使用扩展运算符，比如 Map 结构。
    let map = new Map([
      [1, 'one'],
      [2, 'two'],
      [3, 'three'],
    ]);

    let arr = [...map.keys()]; // [1, 2, 3]
    // --------------------------------------------
    var go = function*(){
      yield 1;
      yield 2;
      yield 3;
    };

    [...go()] // [1, 2, 3]


    // 三。Array.from方法用于将两类对象转为真正的数组：类似数组的对象（array-like object）和可遍历（iterable）的对象（包括ES6新增的数据结构Set和Map）。
    // 3.Array.from
    let arrayLike = {
      '0': 'a',
      '1': 'b',
      '2': 'c',
      length: 3
    };

    // TypeError: Cannot spread non-iterable object.
    let arr = [...arrayLike];
    // return  arrey of instance
    Array.from( arrayLike );

    
    </script>
</body>

</html>
