<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title> 自定义指令－钩子函数</title>
</head>
 <style type="text/css">


 </style>
<body>
<div id="hook-arguments-example" v-demo:foo.a.b="message"></div>

    <script type="text/javascript" src="../js/vue.js"></script>
    <script type="text/javascript">
// Vue.directive('demo', {
//   bind: function (el, binding, vnode) {
//     var s = JSON.stringify
//     el.innerHTML =
//       'name: '       + s(binding.name) + '<br>' +
//       'value: '      + s(binding.value) + '<br>' +
//       'expression: ' + s(binding.expression) + '<br>' +
//       'argument: '   + s(binding.arg) + '<br>' +
//       'modifiers: '  + s(binding.modifiers) + '<br>' +
//       'vnode keys: ' + Object.keys(vnode).join(', ')
//   }
// })
// new Vue({
//   el: '#hook-arguments-example',
//   data: {
//     message: 'hello!'
//   }
// })

// 注册一个全局自定义指令 `v-focus`
Vue.directive('focus', {
  // 当被绑定的元素插入到 DOM 中时……
  inserted: function (el) {
    // 聚焦元素
    el.focus()
  }
})

// 插件
MyPlugin.install = function (Vue, options) {
  // 1. 添加全局方法或属性
  Vue.myGlobalMethod = function () {
    // 逻辑...
  }
  // 2. 添加全局资源
Vue.directive('demo', {    
  bind: function (el, binding, vnode) {
    var s = JSON.stringify
    el.innerHTML =
      'name: '       + s(binding.name) + '<br>' +
      'value: '      + s(binding.value) + '<br>' +
      'expression: ' + s(binding.expression) + '<br>' +
      'argument: '   + s(binding.arg) + '<br>' +
      'modifiers: '  + s(binding.modifiers) + '<br>' +
      'vnode keys: ' + Object.keys(vnode).join(', ')
  }
})
  // 3. 注入组件
  Vue.mixin({
    created: function () {
      // 逻辑...
    }
    
  })
  // 4. 添加实例方法
  Vue.prototype.$myMethod = function (methodOptions) {
    // 逻辑...
  }
}

Vue.use(MyPlugin)

    </script>
</body>

</html>
