<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>编辑器</title>
</head>

<body>
    
    <div id="editor">
      <textarea :value="input" @input="update"></textarea>
      <div v-html="compiledMarkdown"></div>
    </div>
    <script type="text/javascript" src="../js/vue.js"></script>
    <script type="text/javascript">
        new Vue({
          el: '#editor',
          data: {
            input: '# hello'
          },
          computed: {   // computed 自动将下面环境环境this 指向实例vue 不能用箭头函数。
            compiledMarkdown: function () {
              return this.input
            }
          },
          methods: {
            update: function (e) {
              this.input = e.target.value
            }
          }
        })
        //一个对象，键是需要观察的表达式，值是对应回调函数。值也可以是方法名，或者包含选项的对象。Vue 实例将会在实例化时调用 $watch()，遍历 watch 对象的每一个属性。
        var vm = new Vue({
          data: {
            a: 1,
            b: 2,
            c: 3
          },
          watch: { //watch 以下监听 data数据的变化，会触发。
            
            a: function (val, oldVal) {
              console.log('new: %s, old: %s', val, oldVal)
            },
            // 方法名
            b: 'someMethod',
            // 深度 watcher
            c: {
              handler: function (val, oldVal) { /* ... */ },
              deep: true
            }
          },
          methods:{
            someMethod: function(){
              console.log(11111)
            }
          }
        })
    </script>
</body>

</html>
